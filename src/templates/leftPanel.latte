<aside class="main-sidebar">
	<section class="sidebar">
		<ul class="sidebar-menu" data-widget="tree">
			{foreach $menu->getLeftPanel()->getGroups() as $group}
				<li n:if="!empty($group->getTitle())" class="header">{$group->getTitle()}</li>
				{foreach $group->getItems() as $item}
					{include recursionItem, $item}
				{/foreach}
			{/foreach}
		</ul>
	</section>
</aside>

{define recursionItem, $item}
	{if $item->hasChildren()}
		<li class="treeview">
			<a href="{$item->getLink()}">
				<i class="fa fa-dashboard"></i> <span>{$item->getLabel()}</span>
				<span class="pull-right-container">
				<i class="fa fa-angle-left pull-right"></i>
			</span>
			</a>
			<ul class="treeview-menu">
				{foreach $item->getChildren() as $child}
					{if $child->hasChildren()}
						{include recursionItem, $child}
					{else}
						<li>
							<a href="{$child->getLink()}">
								<i n:if="$child->getIcon()" style="color: {$child->getIcon()->getIconColor()}" class="{$child->getIcon()->getFontAwesome()}"></i>{$child->getLabel()}
							</a>
						</li>
					{/if}
				{/foreach}
			</ul>
		</li>
	{else}
		<li>
			<a href="{$item->getLink()}">
				<i class="{$item->getIcon()}"></i> <span>{$item->getLabel()}</span>
				<span n:if="$item->hasRightLabels()" class="pull-right-container">
					{foreach $item->getRightLabels() as $label}
						<small class="label pull-right" style="color: {$label->getTextColor()}; background-color: {$label->getBackGroundColor()}">{$label->getText()}</small>
					{/foreach}
				</span>
			</a>
		</li>
	{/if}
{/define}
